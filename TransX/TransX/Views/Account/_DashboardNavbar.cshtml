@model VmProfile
@inject UserManager<IdentityUser> UserManager
@{
    var userHasPassword = await UserManager.HasPasswordAsync(Model.User);

 }
<div class="sidebar-widgets">
    <div class="dashboard-navbar">

        <form method="post" id="imgForm" asp-controller="account" asp-action="UpdateUserImage" enctype="multipart/form-data">
            <div class="d-user-avater imgDiv">
                @if (Model.User.Image != null)
                {
                    <label for="image"><img id="file_upload" src="~/Uploads/Images/Accounts/@Model.User.Image" class="img-fluid avater upload-img" alt="My Image"></label>
                }
                else
                {
                      <label for="image"><img id="file_upload" src="~/img/user-3.jpg" class="img-fluid avater upload-img" alt="My Image"></label>
                }

                <h4>
                    @Model.User.Name @Model.User.Surname  @if (Model.User.IsVerify != false)
                    {
                        <img class="verificationicon" src="~/img/verification.svg" alt="img">
                    }
                </h4>

                <input style="display:none;" type='file' id="image" onchange="readURL(this);" asp-for="User.ImageFile" />
                <button id="imgSubBtn" class="imgBtn d-none btn" type="submit">Update</button>
            </div>
            
        </form>

        <div class="d-navigation">
            <ul>
                <li class="@(ViewBag.Section == "dashboard"?"active":"")"><a asp-controller="account" asp-action="index"><i class="ti-user"></i>My Profile</a></li>
                <li><a href="bookmark-list.html"><i class="ti-bookmark"></i>Bookmarked Listings</a></li>
                <li><a href="my-property.html"><i class="ti-layers"></i>My Properties</a></li>
                <li><a href="submit-property-dashboard.html"><i class="ti-pencil-alt"></i>Submit New Property</a></li>
                @if (!userHasPassword)
                {
                    <li class="@(ViewBag.Section == "changepassword"?"active":"")"><a asp-controller="account" asp-action="addpassword"><i class="ti-unlock"></i>Add Password</a></li>
                }
                else
                {
                    <li class="@(ViewBag.Section == "changepassword"?"active":"")"><a asp-controller="account" asp-action="changepassword"><i class="ti-unlock"></i>Change Password</a></li>
                }
                <li><a asp-controller="account" asp-action="logout"><i class="ti-power-off"></i>Log Out</a></li>
            </ul>
        </div>

    </div>
</div>